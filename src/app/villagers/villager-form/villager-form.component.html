<div [formGroup]="form">
    <h3>Datos villager</h3>
    <p class="form">
        <mat-form-field appearance="standard">
          <mat-label>Nombre</mat-label>
          <input matInput placeholder="Nombre" formControlName="firstname">
        </mat-form-field>
        <mat-form-field appearance="standard">
          <mat-label>Apellidos</mat-label>
          <input matInput placeholder="Apellidos" formControlName="lastname">
        </mat-form-field>
        <mat-form-field appearance="standard">
            <mat-label>Email</mat-label>
            <input type="email" matInput placeholder="Email" formControlName="email">
        </mat-form-field>


        <mat-form-field appearance="fill">
          <mat-label>Ciudad de trabajo</mat-label>
          <mat-select formControlName="city">
            <mat-option value="VALENCIA">VALENCIA</mat-option>
            <mat-option value="MADRID">MADRID</mat-option>
            <mat-option value="ASTURIAS">ASTURIAS</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="standard">
            <mat-label>Ubicación de trabajo</mat-label>
            <input matInput placeholder="Ubicación de trabajo" formControlName="office">
        </mat-form-field>
    </p>
    
    <p class="form">
        <mat-form-field appearance="standard">
            <mat-label>Práctica</mat-label>
            <input matInput placeholder="Práctica" formControlName="practice">
          </mat-form-field>
        <mat-form-field appearance="standard">
          <mat-label>Estado</mat-label>
          <input matInput placeholder="Estado" formControlName="status">
        </mat-form-field>
        <mat-form-field appearance="standard">
            <mat-label>SAGA</mat-label>
            <input matInput placeholder="SAGA" formControlName="saga">
        </mat-form-field>
        <mat-form-field appearance="standard">
            <mat-label>Grado</mat-label>
            <input matInput placeholder="Grado" formControlName="grade">
        </mat-form-field>
        <mat-form-field appearance="standard">
            <mat-label>Responsable de área</mat-label>
            <input matInput placeholder="Responsable de área" formControlName="areaLeader">
        </mat-form-field>
        
    </p>
    
    <p class="form">
        <mat-form-field appearance="standard">
            <mat-label>Área</mat-label>
            <input matInput placeholder="Área" formControlName="area">
        </mat-form-field>
        <mat-form-field appearance="standard">
            <mat-label>Trabajo</mat-label>
            <input matInput placeholder="Trabajo" type="number"formControlName="work">
        </mat-form-field>

      
        <mat-form-field appearance="fill">
          <mat-label>Fecha prevista salida</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="exit">
          <mat-datepicker-toggle matSuffix [for]="picker" ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
    
        <mat-form-field appearance="fill">
          <mat-label>Fecha de última actualización</mat-label>
          <input matInput [matDatepicker]="picker2" formControlName="updatedAt">
          <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
          <mat-datepicker #picker2></mat-datepicker>
        </mat-form-field>
    
        
    
      </p>


    <h3>Proyectos</h3>
    <!--LISTADO PROYECTOS-->
    <div class="mat-elevation-z8">
  
      <!--FILTER-->
      <mat-form-field appearance="standard" class="filter">
        <mat-label>Filter</mat-label>
        <input matInput (keyup)="applyFilter($event)" #input>
      </mat-form-field>

      <table mat-table [dataSource]="dataSource" matSort>
          
          <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
          <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
  
         <!-- Checkbox Column -->
          <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef>
              <mat-checkbox (change)="$event ? masterToggle() : null"
                            [checked]="selection.hasValue() && isAllSelected()"
                            [indeterminate]="selection.hasValue() && !isAllSelected()"
                            [aria-label]="checkboxLabel()">
              </mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let row">
              <mat-checkbox (click)="$event.stopPropagation()"
                            (change)="$event ? selection.toggle(row) : null"
                            [checked]="selection.isSelected(row)"
                            [aria-label]="checkboxLabel(row)">
              </mat-checkbox>
            </td>
          </ng-container>

          <!--STATUS-->
          <ng-container matColumnDef="cod">
              <th mat-header-cell *matHeaderCellDef > Código </th>
              <td mat-cell *matCellDef="let emp" > {{emp.cod}} </td>
          </ng-container>
  
          <!--FIRSTNAME-->
          <ng-container matColumnDef="division">
              <th mat-header-cell *matHeaderCellDef > División </th>
              <td mat-cell *matCellDef="let emp"> {{emp.division}} </td>
          </ng-container>
  
          <!--LASTNAME-->
          <ng-container matColumnDef="leader">
              <th mat-header-cell *matHeaderCellDef> Responsable </th>
              <td mat-cell *matCellDef="let emp" > {{emp.leader}} </td>
          </ng-container>
          
          <ng-container matColumnDef="work">
            <th mat-header-cell *matHeaderCellDef> Porcentaje </th>
            <td mat-cell *matCellDef="let emp" > {{emp.work  / 100 | percent}} </td>
        </ng-container>
      </table>
      <!--PAGINATION-->
      <mat-paginator [pageSizeOptions]="[5, 10, 20]"
        showFirstLastButtons 
        aria-label="Select page of periodic elements">
      </mat-paginator>
    <!--FIN LISTADO PROYECTOS-->
    <button mat-raised-button type="submit" class="btn" (click)="onSave()" [disabled]="!form.valid">Guardar</button>
</div>

